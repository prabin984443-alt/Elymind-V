/* style.css */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

:root {
    --glass-bg: rgba(255, 255, 255, 0.15);
    --glass-border: rgba(255, 255, 255, 0.2);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    --text-color: #fff;
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }

body {
    background: #120136;
    color: var(--text-color);
    min-height: 100vh;
    transition: background 1.2s cubic-bezier(0.25, 0.8, 0.25, 1); /* Ultra smooth transition */
    padding-bottom: 120px;
    overflow-x: hidden;
}

/* --- ELEMENTAL TEXTURES --- */
.texture-fire { background: radial-gradient(circle at 50% 50%, #ff512f, #dd2476); }
.texture-water { background: linear-gradient(180deg, #2193b0 0%, #6dd5ed 100%); }
.texture-air { background: linear-gradient(to top, #c471ed 0%, #f64f59 100%); }
.texture-earth { background: linear-gradient(110deg, #11998e 60%, #38ef7d 60%); }
/* Space Moving Stars */
.texture-space {
    background: #050505;
    background-image: 
        radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
        radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
        radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
    background-size: 550px 550px, 350px 350px, 250px 250px;
    animation: starsMove 100s linear infinite;
}
@keyframes starsMove { from { background-position: 0 0, 0 0, 0 0; } to { background-position: 550px 550px, 350px 350px, 250px 250px; } }

/* --- GLASS CONTAINERS --- */
.container { max-width: 480px; margin: 0 auto; padding: 20px; }
.glass-card {
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 20px; margin-bottom: 20px;
    box-shadow: var(--glass-shadow);
    transition: transform 0.3s, opacity 0.3s;
}

/* --- WATER: SPECTRUM VISUALIZER --- */
.bar {
    width: 6px; background: yellow; border-radius: 5px; margin: 0 3px;
    height: 10px; transition: height 0.1s;
}
/* Animation triggers ONLY when 'playing' class is added via JS */
.playing .bar { animation: soundWave 0.5s infinite ease-in-out alternate; }
@keyframes soundWave { 0% { height: 10px; } 100% { height: 50px; opacity: 1; } }

/* --- AIR: BREATHING CIRCLE --- */
.breath-visual {
    width: 180px; height: 180px;
    background: rgba(255,255,255,0.05);
    border: 2px solid rgba(255,255,255,0.5);
    border-radius: 50%;
    margin: 30px auto;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 0 30px rgba(255,255,255,0.1);
    /* Transition handled by JS for precise timing */
}
.breath-text { font-size: 1.4rem; font-weight: bold; text-shadow: 0 2px 5px rgba(0,0,0,0.5); }

/* --- EARTH: TICKS --- */
.task-check {
    width: 24px; height: 24px;
    border: 2px solid white; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; transition: 0.2s;
}
.task-check.checked { background: #66bb6a; border-color: #66bb6a; }
.task-check.checked::after { content: 'âœ”'; font-size: 14px; color: white; }

/* --- SPACE: CHAT --- */
.chat-box { height: 400px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; padding: 10px; scroll-behavior: smooth; }
.msg { padding: 10px 16px; border-radius: 18px; max-width: 85%; font-size: 0.9rem; line-height: 1.4; animation: popIn 0.3s ease; }
.msg.user { align-self: flex-end; background: rgba(255,255,255,0.2); border-bottom-right-radius: 2px; }
.msg.ai { align-self: flex-start; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.15); border-bottom-left-radius: 2px; }
@keyframes popIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.chip { 
    background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); 
    padding: 8px 15px; border-radius: 20px; font-size: 0.8rem; cursor: pointer; white-space: nowrap; color: #eee; transition: 0.2s;
}
.chip:active { background: white; color: #000; }

/* --- NAV --- */
.bottom-nav {
    position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
    width: 90%; max-width: 400px;
    background: rgba(0,0,0,0.8); backdrop-filter: blur(20px);
    border-radius: 50px; border: 1px solid rgba(255,255,255,0.1);
    display: flex; justify-content: space-around; padding: 15px; z-index: 100;
}
.nav-item { font-size: 24px; opacity: 0.5; color: white; transition: 0.3s; cursor: pointer; }
.nav-item.active { opacity: 1; transform: translateY(-5px); color: #fff; text-shadow: 0 0 15px rgba(255,255,255,0.8); }

/* UI ELEMENTS */
button { border: none; cursor: pointer; border-radius: 10px; font-weight: 600; transition: 0.2s; }
button:active { transform: scale(0.95); }
input, select, textarea { width: 100%; padding: 12px; border-radius: 10px; border: none; margin-bottom: 10px; outline: none; font-family: inherit; }
.badge { padding: 4px 8px; border-radius: 4px; font-size: 0.7rem; text-transform: uppercase; font-weight: bold; }


/* Add to style.css */

/* Crys Mode Selector */
.mode-select {
    background: rgba(126, 87, 194, 0.3); /* Purple tint */
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 0.85rem;
    cursor: pointer;
    outline: none;
    margin-left: 10px;
}
.mode-select option {
    background: #222; /* Dark background for dropdown items */
    color: white;
}

/* --- NEON AUDIO SPECTRUM --- */
.spectrum-container {
    display: flex;
    justify-content: center;
    align-items: flex-end; /* Align bars to bottom */
    gap: 2px; /* Space between bars */
    height: 60px;
    margin: 25px 0;
    padding: 0 10px;
}

.spec-bar {
    width: 7px;
    background: linear-gradient(to top, #ffde21, #fff01f); /* Neon Blue Gradient */
    border-radius: 4px 4px 0 0;
    height: 5px; /* Default resting height */
    transition: height 0.1s ease;
    box-shadow: 0 0 8px rgba(0, 198, 255, 0.6); /* Glow effect */
}

/* ANIMATION: This triggers when music plays */
.spectrum-container.playing .spec-bar {
    animation: bounce 0.6s infinite ease-in-out alternate;
}

/* Randomize animation timing for each bar so they don't move together */
.spec-bar:nth-child(odd) { animation-duration: 0.6s; }
.spec-bar:nth-child(even) { animation-duration: 0.4s; }
.spec-bar:nth-child(3n) { animation-duration: 0.7s; }
.spec-bar:nth-child(4n) { animation-duration: 0.5s; }

@keyframes bounce {
    0% { height: 5px; opacity: 0.5; }
    100% { height: 100%; opacity: 1; }
}